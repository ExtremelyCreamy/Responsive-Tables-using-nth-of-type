<!DOCTYPE HTML>
<html lang="en-US">
<head>

	<meta charset="UTF-8">	
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
    <meta name="viewport" content="width=device-width, initial-scale=1">

	<title>Responsive tables using nth-of-type</title>

    <link rel="stylesheet" href="styles.css" />

</head>

<body>

<a href="https://github.com/green-plastic/Responsive-Tables-using-nth-of-type" class="fork">
	<img src="http://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub" />
</a>

<div class="container">
	<div class="test"></div>
		<h1>
			<a href="https://github.com/green-plastic/Responsive-Tables-using-nth-of-type">Responsive tables using nth-of-type</a>
      <span class="small">by <a href="https://github.com/green-plastic">Erik Wiedeman</a></span>
		</h1>

    <div class="description">
      Using nth-of-type, this table becomes responsive. Also have a jQuery version, which doesn't use nth-of-type, but rather loops through the table and grabs the th text from the table header.
    </div>


	
	<h2>CSS Only Version 1</h2>
	<h4>(Hard coded values in CSS)</h4>
	
	<div class="description">
		The table headers are hard coded in the CSS using <em>nth-of-type(n):before</em>. I'm sure you could use some server side action to dynamically create the tables and/or CSS. If you want a more dynamic approach, try the <a href="#js">jQuery version below</a>.
    </div>
	
	<table id="css" class="table">
		<thead>
	   		<tr>
     			<th></th>
				<th>Header 1</th>
				<th>Header 2</th>
				<th>Header 3</th>
				<th>Header 4</th>
				<th>Header 5</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<th>Row Header 1</th>
				<td>Info 1</td>
				<td>Info 2</td>
				<td>Info 3</td>
				<td>Info 4</td>
				<td>Info 5</td>
			</tr>
			<tr>
				<th>Row Header 2</th>
				<td>Info 1</td>
				<td>Info 2</td>
				<td>Info 3</td>
				<td>Info 4</td>
				<td>Info 5</td>
	  		</tr>
	 		<tr>
	   			<th>Row Header 3</th>
				<td>Info 1</td>
				<td>Info 2</td>
				<td>Info 3</td>
				<td>Info 4</td>
				<td>Info 5</td>
	 		</tr>
	 		<tr>
	   			<th>Row Header 4</th>
				<td>Info 1</td>
				<td>Info 2</td>
				<td>Info 3</td>
				<td>Info 4</td>
				<td>Info 5</td>
	 		</tr>
	 		<tr>
	   			<th>Row Header 5</th>
				<td>Info 1</td>
				<td>Info 2</td>
				<td>Info 3</td>
				<td>Info 4</td>
				<td>Info 5</td>
	 		</tr>
	 		<tr>
	   			<th>Row Header 6</th>
				<td>Info 1</td>
				<td>Info 2</td>
				<td>Info 3</td>
				<td>Info 4</td>
				<td>Info 5</td>
	 		</tr>
		</tbody>
	</table>
	
	<hr />
	
	<h2>CSS Only Version 2</h2>
	<h4>(Hard coded values as data attributes in markup)</h4>
	
	<div class="description">
		<p>This uses nth-of-type and a data attribute <em>(data-label)</em> to achieve what is done above. This one still uses <em>nth-of-type(n):before</em>, however, using the attibute <em>data-label</em> attached to each td tag, we only need one line in the styles to grab the content. Like so:</p>
		<br />
		<pre>td:nth-of-type(n):before { content: attr(data-label); }</pre>
		
    </div>

	
	
	<table id="css2" class="table">
		<thead>
	   		<tr>
     			<th></th>
				<th>Header 1</th>
				<th>Header 2</th>
				<th>Header 3</th>
				<th>Header 4</th>
				<th>Header 5</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<th>Row Header 1</th>
				<td data-label="Header 1">Info 1</td>
				<td data-label="Header 2">Info 2</td>
				<td data-label="Header 3">Info 3</td>
				<td data-label="Header 4">Info 4</td>
				<td data-label="Header 5">Info 5</td>
			</tr>
			<tr>
				<th>Row Header 2</th>
				<td data-label="Header 1">Info 1</td>
				<td data-label="Header 2">Info 2</td>
				<td data-label="Header 3">Info 3</td>
				<td data-label="Header 4">Info 4</td>
				<td data-label="Header 5">Info 5</td>
	  		</tr>
	 		<tr>
	   			<th>Row Header 3</th>
				<td data-label="Header 1">Info 1</td>
				<td data-label="Header 2">Info 2</td>
				<td data-label="Header 3">Info 3</td>
				<td data-label="Header 4">Info 4</td>
				<td data-label="Header 5">Info 5</td>
	 		</tr>
	 		<tr>
	   			<th>Row Header 4</th>
				<td data-label="Header 1">Info 1</td>
				<td data-label="Header 2">Info 2</td>
				<td data-label="Header 3">Info 3</td>
				<td data-label="Header 4">Info 4</td>
				<td data-label="Header 5">Info 5</td>
	 		</tr>
	 		<tr>
	   			<th>Row Header 5</th>
				<td data-label="Header 1">Info 1</td>
				<td data-label="Header 2">Info 2</td>
				<td data-label="Header 3">Info 3</td>
				<td data-label="Header 4">Info 4</td>
				<td data-label="Header 5">Info 5</td>
	 		</tr>
	 		<tr>
	   			<th>Row Header 6</th>
				<td data-label="Header 1">Info 1</td>
				<td data-label="Header 2">Info 2</td>
				<td data-label="Header 3">Info 3</td>
				<td data-label="Header 4">Info 4</td>
				<td data-label="Header 5">Info 5</td>
	 		</tr>
		</tbody>
	</table>
	
	<hr />
	
	<h2>CSS and jQuery Version, doesn't use nth-of-type</h2>
	
	<div class="description">The jQuery version loops through and grabs the text from the header tags in the header group. From there loops through the rows and prepends the table headers to the columns.</div>
	
	<table id="js" class="table">
		<thead>
	   		<tr>
     			<td></td>
				<th>Header 1</th>
				<th>Header 2</th>
				<th>Header 3</th>
				<th>Header 4</th>
				<th>Header 5</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<th>Row Header 1</th>
				<td>Info 1</td>
				<td>Info 2</td>
				<td>Info 3</td>
				<td>Info 4</td>
				<td>Info 5</td>
			</tr>
			<tr>
				<th>Row Header 2</th>
				<td>Info 1</td>
				<td>Info 2</td>
				<td>Info 3</td>
				<td>Info 4</td>
				<td>Info 5</td>
	  		</tr>
	 		<tr>
	   			<th>Row Header 3</th>
				<td>Info 1</td>
				<td>Info 2</td>
				<td>Info 3</td>
				<td>Info 4</td>
				<td>Info 5</td>
	 		</tr>
	 		<tr>
	   			<th>Row Header 4</th>
				<td>Info 1</td>
				<td>Info 2</td>
				<td>Info 3</td>
				<td>Info 4</td>
				<td>Info 5</td>
	 		</tr>
	 		<tr>
	   			<th>Row Header 5</th>
				<td>Info 1</td>
				<td>Info 2</td>
				<td>Info 3</td>
				<td>Info 4</td>
				<td>Info 5</td>
	 		</tr>
	 		<tr>
	   			<th>Row Header 6</th>
				<td>Info 1</td>
				<td>Info 2</td>
				<td>Info 3</td>
				<td>Info 4</td>
				<td>Info 5</td>
	 		</tr>
		</tbody>
	</table>
	
</div>
	

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
<script type="text/javascript">
	$(document).ready(function() {
		
		function loopTable() {
			// loop through the #js table
		    $('#js').each(function() {
				// Check if under 600px width
		        if ( window.innerWidth < 600 || screen.width < 600 ) {
				
					// table selector to variable
		            var table = $(this);
				
					// loop through the header group table headers
		            $('thead th', table).each(function(num) {
					
						// set the text from the table headers to a variable
		                var header = $(this).text();
					
						// loop through the tbody rows
		                $('tbody tr', table).each(function() {
						
							// prepend the header text to each column
							// I put it in a span tag so I could style it.
		                    $('td', this).eq(num).prepend('<span>' + header + '</span>');

		                });             
		            });
		        }
		     });
		}
		
		// inital call of the loop using a function... less code clutter then.
		loopTable();
		
		// this is for resizing the browser
		$(window).resize(function() {
			
			// check to see if the dynamically created span is there, if not loop through
			if ( $('tbody tr td span').length <= 0 && window.innerWidth < 600 ) {
			
				loopTable();
			
			// if there is a dynamically created span, and the window width is greater than 600, remove them.
			} else if ( $('tbody tr td span').length > 0 && window.innerWidth > 600 ) {
				
				$('tbody tr td span').remove();
				
			}
		});

	});
</script>	
	
</body>
</html>